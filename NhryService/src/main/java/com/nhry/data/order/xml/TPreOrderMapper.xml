<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.nhry.data.order.dao.TPreOrderMapper" >
  <resultMap id="BaseResultMap" type="com.nhry.data.order.domain.TPreOrder" >
    <id column="ORDER_NO" property="orderNo" jdbcType="VARCHAR" />
    <result column="ORDER_TYPE" property="orderType" jdbcType="VARCHAR" />
    <result column="ORDER_DATE" property="orderDate" jdbcType="DATE" />
    <result column="END_DATE" property="endDate" jdbcType="DATE" />
    <result column="RET_DATE" property="retDate" jdbcType="DATE" />
    <result column="RET_REASON" property="retReason" jdbcType="VARCHAR" />
    <result column="PAYMENTMETHOD" property="paymentmethod" jdbcType="VARCHAR" />
    <result column="PREORDER_SOURCE" property="preorderSource" jdbcType="VARCHAR" />
    <result column="ONLINEORDER_NO" property="onlineorderNo" jdbcType="VARCHAR" />
    <result column="BRANCH_NO" property="branchNo" jdbcType="VARCHAR" />
    <result column="BRANCH_NAME" property="branchName" jdbcType="VARCHAR" />
    <result column="BRANCH_TEL" property="branchTel" jdbcType="VARCHAR" />
    <result column="CUSTOMER_TEL" property="customerTel" jdbcType="VARCHAR" />
    <result column="MILKMEMBER_NO" property="milkmemberNo" jdbcType="VARCHAR" />
    <result column="MEMBER_NO" property="memberNo" jdbcType="VARCHAR" />
    <result column="PAYMENT_STAT" property="paymentStat" jdbcType="VARCHAR" />
    <result column="MILKBOX_STAT" property="milkboxStat" jdbcType="VARCHAR" />
    <result column="INIT_AMT" property="initAmt" jdbcType="DECIMAL" />
    <result column="CUR_AMT" property="curAmt" jdbcType="DECIMAL" />
    <result column="DISP_LINE_NO" property="dispLineNo" jdbcType="VARCHAR" />
    <result column="EMP_NO" property="empNo" jdbcType="VARCHAR" />
    <result column="EMP_Name" property="empName" jdbcType="VARCHAR" />
    <result column="ADRESS_NO" property="adressNo" jdbcType="VARCHAR" />
    <result column="CREATER_NO" property="createrNo" jdbcType="VARCHAR" />
    <result column="CREATER_BY" property="createrBy" jdbcType="VARCHAR" />
    <result column="PREORDER_STAT" property="preorderStat" jdbcType="VARCHAR" />
    <result column="MEMO_TXT" property="memoTxt" jdbcType="VARCHAR" />
    <result column="PAY_METHOD" property="payMethod" jdbcType="VARCHAR" />
    <result column="SOLICIT_NO" property="solicitNo" jdbcType="VARCHAR" />
    <result column="SOLICIT_DATE" property="solicitDate" jdbcType="DATE" />
    <result column="SOLICITOR_NO" property="solicitorNo" jdbcType="VARCHAR" />
    <result column="SOLICIT_BY" property="solicitBy" jdbcType="VARCHAR" />
    <result column="END_DATE" property="endDate" jdbcType="DATE" />
    <result column="DELIVERY_TYPE" property="deliveryType" jdbcType="VARCHAR" />
    <result column="STOP_DATE_START" property="stopDateStart" jdbcType="VARCHAR" />
    <result column="STOP_DATE_END" property="stopDateEnd" jdbcType="VARCHAR" />
    <result column="STOP_REASON" property="stopReason" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    ORDER_NO, ORDER_TYPE, ORDER_DATE, PAYMENTMETHOD, PREORDER_SOURCE, ONLINEORDER_NO, 
    BRANCH_NO, MILKMEMBER_NO, MEMBER_NO, PAYMENT_STAT, MILKBOX_STAT, INIT_AMT, CUR_AMT, 
    DISP_LINE_NO, EMP_NO, ADRESS_NO, CREATER_NO, CREATER_BY, PREORDER_STAT, MEMO_TXT, 
    PAY_METHOD, SOLICIT_NO, SOLICIT_DATE, SOLICITOR_NO, SOLICIT_BY,RET_REASON,RET_DATE,DELIVERY_TYPE,STOP_DATE_START,STOP_DATE_END,STOP_REASON
  </sql>
  <select id="selectByOrderCode" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select 
    o.ORDER_NO, o.ORDER_TYPE, o.ORDER_DATE, o.PAYMENTMETHOD, o.PREORDER_SOURCE, o.ONLINEORDER_NO, 
    b.BRANCH_NAME BRANCH_NAME,o.BRANCH_NO, o.MILKMEMBER_NO, o.MEMBER_NO, o.PAYMENT_STAT, o.MILKBOX_STAT, o.INIT_AMT, o.CUR_AMT, 
    o.DISP_LINE_NO, o.EMP_NO, o.ADRESS_NO, o.CREATER_NO, o.CREATER_BY, o.PREORDER_STAT, o.MEMO_TXT, 
    o.PAY_METHOD, o.SOLICIT_NO, o.SOLICIT_DATE, o.SOLICITOR_NO, o.SOLICIT_BY, o.END_DATE,o.STOP_DATE_START,o.DELIVERY_TYPE,
    o.STOP_DATE_END,o.STOP_REASON
    from t_preorder o 
    left join t_md_branch b on o.BRANCH_NO = b.BRANCH_NO
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </select>
  <select id="selectDispNoByGroup" resultMap="BaseResultMap">
    select distinct e.reach_time_type ORDER_TYPE, o.EMP_NO, o.BRANCH_NO
	 from t_mst_plan_order_item e
	 left join t_preorder o on e.order_no = o.order_no 
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    delete from t_preorder
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.nhry.data.order.domain.TPreOrder" >
    insert into t_preorder (ORDER_NO, ORDER_TYPE, ORDER_DATE, 
      PAYMENTMETHOD, PREORDER_SOURCE, ONLINEORDER_NO, 
      BRANCH_NO, MILKMEMBER_NO, MEMBER_NO, 
      PAYMENT_STAT, MILKBOX_STAT, INIT_AMT, 
      CUR_AMT, DISP_LINE_NO, EMP_NO, 
      ADRESS_NO, CREATER_NO, CREATER_BY, 
      PREORDER_STAT, MEMO_TXT, PAY_METHOD, 
      SOLICIT_NO, SOLICIT_DATE, SOLICITOR_NO, 
      SOLICIT_BY)
    values (#{orderNo,jdbcType=VARCHAR}, #{orderType,jdbcType=VARCHAR}, #{orderDate,jdbcType=DATE}, 
      #{paymentmethod,jdbcType=VARCHAR}, #{preorderSource,jdbcType=VARCHAR}, #{onlineorderNo,jdbcType=VARCHAR}, 
      #{branchNo,jdbcType=VARCHAR}, #{milkmemberNo,jdbcType=VARCHAR}, #{memberNo,jdbcType=VARCHAR}, 
      #{paymentStat,jdbcType=VARCHAR}, #{milkboxStat,jdbcType=VARCHAR}, #{initAmt,jdbcType=DECIMAL}, 
      #{curAmt,jdbcType=DECIMAL}, #{dispLineNo,jdbcType=VARCHAR}, #{empNo,jdbcType=VARCHAR}, 
      #{adressNo,jdbcType=VARCHAR}, #{createrNo,jdbcType=VARCHAR}, #{createrBy,jdbcType=VARCHAR}, 
      #{preorderStat,jdbcType=VARCHAR}, #{memoTxt,jdbcType=VARCHAR}, #{payMethod,jdbcType=VARCHAR}, 
      #{solicitNo,jdbcType=VARCHAR}, #{solicitDate,jdbcType=DATE}, #{solicitorNo,jdbcType=VARCHAR}, 
      #{solicitBy,jdbcType=VARCHAR})
  </insert>
  <insert id="insertNewOrder" parameterType="com.nhry.data.order.domain.TPreOrder" >
    insert into t_preorder
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="orderNo != null" >
        ORDER_NO,
      </if>
      <if test="orderType != null" >
        ORDER_TYPE,
      </if>
      <if test="orderDate != null" >
        ORDER_DATE,
      </if>
      <if test="paymentmethod != null" >
        PAYMENTMETHOD,
      </if>
      <if test="preorderSource != null" >
        PREORDER_SOURCE,
      </if>
      <if test="onlineorderNo != null" >
        ONLINEORDER_NO,
      </if>
      <if test="branchNo != null" >
        BRANCH_NO,
      </if>
      <if test="milkmemberNo != null" >
        MILKMEMBER_NO,
      </if>
      <if test="memberNo != null" >
        MEMBER_NO,
      </if>
      <if test="paymentStat != null" >
        PAYMENT_STAT,
      </if>
      <if test="milkboxStat != null" >
        MILKBOX_STAT,
      </if>
      <if test="initAmt != null" >
        INIT_AMT,
      </if>
      <if test="curAmt != null" >
        CUR_AMT,
      </if>
      <if test="dispLineNo != null" >
        DISP_LINE_NO,
      </if>
      <if test="empNo != null" >
        EMP_NO,
      </if>
      <if test="adressNo != null" >
        ADRESS_NO,
      </if>
      <if test="createrNo != null" >
        CREATER_NO,
      </if>
      <if test="createrBy != null" >
        CREATER_BY,
      </if>
      <if test="preorderStat != null" >
        PREORDER_STAT,
      </if>
      <if test="memoTxt != null" >
        MEMO_TXT,
      </if>
      <if test="payMethod != null" >
        PAY_METHOD,
      </if>
      <if test="solicitNo != null" >
        SOLICIT_NO,
      </if>
      <if test="solicitDate != null" >
        SOLICIT_DATE,
      </if>
      <if test="solicitorNo != null" >
        SOLICITOR_NO,
      </if>
      <if test="solicitBy != null" >
        SOLICIT_BY,
      </if>
      <if test="endDate != null" >
        END_DATE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="orderNo != null" >
        #{orderNo,jdbcType=VARCHAR},
      </if>
      <if test="orderType != null" >
        #{orderType,jdbcType=VARCHAR},
      </if>
      <if test="orderDate != null" >
        #{orderDate,jdbcType=DATE},
      </if>
      <if test="paymentmethod != null" >
        #{paymentmethod,jdbcType=VARCHAR},
      </if>
      <if test="preorderSource != null" >
        #{preorderSource,jdbcType=VARCHAR},
      </if>
      <if test="onlineorderNo != null" >
        #{onlineorderNo,jdbcType=VARCHAR},
      </if>
      <if test="branchNo != null" >
        #{branchNo,jdbcType=VARCHAR},
      </if>
      <if test="milkmemberNo != null" >
        #{milkmemberNo,jdbcType=VARCHAR},
      </if>
      <if test="memberNo != null" >
        #{memberNo,jdbcType=VARCHAR},
      </if>
      <if test="paymentStat != null" >
        #{paymentStat,jdbcType=VARCHAR},
      </if>
      <if test="milkboxStat != null" >
        #{milkboxStat,jdbcType=VARCHAR},
      </if>
      <if test="initAmt != null" >
        #{initAmt,jdbcType=DECIMAL},
      </if>
      <if test="curAmt != null" >
        #{curAmt,jdbcType=DECIMAL},
      </if>
      <if test="dispLineNo != null" >
        #{dispLineNo,jdbcType=VARCHAR},
      </if>
      <if test="empNo != null" >
        #{empNo,jdbcType=VARCHAR},
      </if>
      <if test="adressNo != null" >
        #{adressNo,jdbcType=VARCHAR},
      </if>
      <if test="createrNo != null" >
        #{createrNo,jdbcType=VARCHAR},
      </if>
      <if test="createrBy != null" >
        #{createrBy,jdbcType=VARCHAR},
      </if>
      <if test="preorderStat != null" >
        #{preorderStat,jdbcType=VARCHAR},
      </if>
      <if test="memoTxt != null" >
        #{memoTxt,jdbcType=VARCHAR},
      </if>
      <if test="payMethod != null" >
        #{payMethod,jdbcType=VARCHAR},
      </if>
      <if test="solicitNo != null" >
        #{solicitNo,jdbcType=VARCHAR},
      </if>
      <if test="solicitDate != null" >
        #{solicitDate,jdbcType=DATE},
      </if>
      <if test="solicitorNo != null" >
        #{solicitorNo,jdbcType=VARCHAR},
      </if>
      <if test="solicitBy != null" >
        #{solicitBy,jdbcType=VARCHAR},
      </if>
      <if test="endDate != null" >
        #{endDate,jdbcType=DATE},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.nhry.data.order.domain.TPreOrder" >
    update t_preorder
    <set >
      <if test="orderType != null" >
        ORDER_TYPE = #{orderType,jdbcType=VARCHAR},
      </if>
      <if test="orderDate != null" >
        ORDER_DATE = #{orderDate,jdbcType=DATE},
      </if>
      <if test="paymentmethod != null" >
        PAYMENTMETHOD = #{paymentmethod,jdbcType=VARCHAR},
      </if>
      <if test="preorderSource != null" >
        PREORDER_SOURCE = #{preorderSource,jdbcType=VARCHAR},
      </if>
      <if test="onlineorderNo != null" >
        ONLINEORDER_NO = #{onlineorderNo,jdbcType=VARCHAR},
      </if>
      <if test="branchNo != null" >
        BRANCH_NO = #{branchNo,jdbcType=VARCHAR},
      </if>
      <if test="milkmemberNo != null" >
        MILKMEMBER_NO = #{milkmemberNo,jdbcType=VARCHAR},
      </if>
      <if test="memberNo != null" >
        MEMBER_NO = #{memberNo,jdbcType=VARCHAR},
      </if>
      <if test="paymentStat != null" >
        PAYMENT_STAT = #{paymentStat,jdbcType=VARCHAR},
      </if>
      <if test="milkboxStat != null" >
        MILKBOX_STAT = #{milkboxStat,jdbcType=VARCHAR},
      </if>
      <if test="initAmt != null" >
        INIT_AMT = #{initAmt,jdbcType=DECIMAL},
      </if>
      <if test="curAmt != null" >
        CUR_AMT = #{curAmt,jdbcType=DECIMAL},
      </if>
      <if test="dispLineNo != null" >
        DISP_LINE_NO = #{dispLineNo,jdbcType=VARCHAR},
      </if>
      <if test="empNo != null" >
        EMP_NO = #{empNo,jdbcType=VARCHAR},
      </if>
      <if test="adressNo != null" >
        ADRESS_NO = #{adressNo,jdbcType=VARCHAR},
      </if>
      <if test="createrNo != null" >
        CREATER_NO = #{createrNo,jdbcType=VARCHAR},
      </if>
      <if test="createrBy != null" >
        CREATER_BY = #{createrBy,jdbcType=VARCHAR},
      </if>
      <if test="preorderStat != null" >
        PREORDER_STAT = #{preorderStat,jdbcType=VARCHAR},
      </if>
      <if test="memoTxt != null" >
        MEMO_TXT = #{memoTxt,jdbcType=VARCHAR},
      </if>
      <if test="payMethod != null" >
        PAY_METHOD = #{payMethod,jdbcType=VARCHAR},
      </if>
      <if test="solicitNo != null" >
        SOLICIT_NO = #{solicitNo,jdbcType=VARCHAR},
      </if>
      <if test="solicitDate != null" >
        SOLICIT_DATE = #{solicitDate,jdbcType=DATE},
      </if>
      <if test="solicitorNo != null" >
        SOLICITOR_NO = #{solicitorNo,jdbcType=VARCHAR},
      </if>
      <if test="solicitBy != null" >
        SOLICIT_BY = #{solicitBy,jdbcType=VARCHAR},
      </if>
    </set>
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  <update id="updateOrderEndDate" parameterType="com.nhry.data.order.domain.TPreOrder" >
    update t_preorder
    <set >
      <if test="endDate != null" >
        END_DATE = #{endDate,jdbcType=DATE},
      </if>
      <if test="stopDateEnd != null" >
        STOP_DATE_END = #{stopDateEnd,jdbcType=DATE},
      </if>
      <if test="preorderStat != null" >
        PREORDER_STAT = #{preorderStat,jdbcType=VARCHAR},
      </if>
    </set>
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  <select id="searchOrders" resultMap="BaseResultMap" parameterType="com.nhry.model.order.OrderSearchModel">
    select 
    o.ORDER_NO, o.ORDER_TYPE, o.ORDER_DATE, o.PAYMENTMETHOD, o.PREORDER_SOURCE, o.ONLINEORDER_NO, 
    b.BRANCH_NAME BRANCH_NO, o.MILKMEMBER_NO, o.MEMBER_NO, o.PAYMENT_STAT, o.MILKBOX_STAT, o.INIT_AMT, o.CUR_AMT, 
    o.DISP_LINE_NO, o.EMP_NO, o.ADRESS_NO, o.CREATER_NO, o.CREATER_BY, o.PREORDER_STAT,o.PAY_METHOD
    FROM t_preorder o , t_md_branch b
    WHERE o.BRANCH_NO = b.BRANCH_NO 
    AND o.PREORDER_STAT = "10"
    <if test="orderNo != null and orderNo !=''">
     		AND ORDER_NO = #{orderNo,jdbcType=VARCHAR}
    </if>
    <if test="branchNo != null and branchNo != ''">
     		AND BRANCH_NO = #{branchNo,jdbcType=VARCHAR}
    </if>
    <if test="empNo != null and empNo !=''">
     		AND EMP_NO = #{empNo,jdbcType=VARCHAR}
    </if>
    <if test="milkmemberNo != null and milkmemberNo !=''">
     		AND MILKMEMBER_NO = #{milkmemberNo,jdbcType=VARCHAR}
    </if>
    <if test="paymentStat != null and paymentStat !=''">
     		AND PAYMENT_STAT = #{paymentStat,jdbcType=VARCHAR}
    </if>
    <if test="milkboxStat != null and milkboxStat !=''">
     		AND MILKBOX_STAT = #{milkboxStat,jdbcType=VARCHAR}
    </if>
    <if test="preorderStat != null and preorderStat !=''">
     		AND PREORDER_STAT = #{preorderStat,jdbcType=VARCHAR}
    </if>
    <if test="companyName != null and companyName !=''">
     		AND b.SALES_ORG = #{companyName,jdbcType=VARCHAR}
    </if>
    <if test="orderDateStart != null and orderDateStart !=''">
     		AND ORDER_DATE  &gt;=  #{orderDateStart}
    </if>
    <if test="orderDateEnd != null and orderDateEnd !=''">
     		AND ORDER_DATE  &lt;=  #{orderDateEnd}
    </if>
     ORDER BY ORDER_NO
  </select>

  <select id="searchReturnOrders" resultMap="BaseResultMap" parameterType="com.nhry.model.order.ManHandOrderSearchModel">
    select
      o.ORDER_NO, o.PREORDER_STAT,o.RET_REASON,o.RET_DATE, c.VIP_NAME MILKMEMBER_NO, c.VIP_NAME MEMBER_NO,
    c.MP CUSTOMER_TEL,b.BRANCH_NAME BRANCH_NO
    FROM t_preorder o,t_md_branch b,t_vip_cust_info c

    WHERE o.BRANCH_NO  = b.BRANCH_NO and o.MILKMEMBER_NO = c.VIP_CUST_NO
    and o.MEMBER_NO = c.VIP_CUST_NO
    and  o.PREORDER_STAT = '20'  and o.RET_REASON is not null

    <if test="orderDateStart != null and orderDateStart !=''">
      AND o.RET_DATE &gt;= #{orderDateStart,jdbcType=DATE}
    </if>
    <if test="orderDateEnd != null and orderDateEnd !=''">
      AND o.RET_DATE &lt;= #{orderDateEnd,jdbcType=DATE}
    </if>
    <if test="preorderStat != null and preorderStat !=''">
      AND o.PREORDER_STAT = #{preorderStat,jdbcType=VARCHAR}
    </if>
    <if test="retReason != null and retReason !=''">
      AND o.RET_REASON = #{retReason,jdbcType=VARCHAR}
    </if>

    ORDER BY ORDER_NO
  </select>
  <update id="updateOrderStatus" parameterType="com.nhry.data.order.domain.TPreOrder" >
    update t_preorder
    <set >
      <if test="paymentStat != null" >
        PAYMENT_STAT = #{paymentStat,jdbcType=VARCHAR},
      </if>
      <if test="milkboxStat != null" >
        MILKBOX_STAT = #{milkboxStat,jdbcType=VARCHAR},
      </if>
      <if test="preorderStat != null" >
        PREORDER_STAT = #{preorderStat,jdbcType=VARCHAR},
      </if>
      <if test="stopDateStart != null" >
        STOP_DATE_START = #{stopDateStart,jdbcType=VARCHAR},
      </if>
      <if test="stopDateEnd != null" >
        STOP_DATE_END = #{stopDateEnd,jdbcType=VARCHAR},
      </if>
      <if test="stopReason != null" >
        STOP_REASON = #{stopReason,jdbcType=VARCHAR},
      </if>
    </set>
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  <select id="manHandOrderDetail" resultMap="BaseResultMap" parameterType="java.lang.String" >
    select
      o.ORDER_NO, o.PREORDER_STAT,o.RET_REASON,o.RET_DATE, c.VIP_NAME MILKMEMBER_NO, c.VIP_NAME MEMBER_NO,
      c.MP CUSTOMER_TEL,b.BRANCH_NAME BRANCH_NO,b.MP BRANCH_TEL,o.ORDER_DATE,o.MEMO_TXT
    FROM t_preorder o,t_md_branch b,t_vip_cust_info c
    WHERE o.BRANCH_NO  = b.BRANCH_NO and o.MILKMEMBER_NO = c.VIP_CUST_NO
    and o.MEMBER_NO = c.VIP_CUST_NO
    and  o.ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </select>
  <update id="uptManHandOrder" parameterType="com.nhry.model.order.UpdateManHandOrderModel" >
    update t_preorder
    <set >
        PREORDER_STAT = '10',
        BRANCH_NO = #{branchNo,jdbcType=VARCHAR},
        RET_REASON = '',
        MEMO_TXT=''
    </set>
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  <update id="returnOrder" parameterType="com.nhry.model.order.ReturnOrderModel" >
    update t_preorder
    <set >
      PREORDER_STAT = '20',
      RET_REASON =  #{retReason,jdbcType=VARCHAR},
      MEMO_TXT=  #{memoTxt,jdbcType=VARCHAR},
      RET_DATE = #{retDate,jdbcType=DATE}
    </set>
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  <select id="searchCustomerOrder" resultMap="BaseResultMap" parameterType="com.nhry.model.bill.CustBillQueryModel">
    select
    o.ORDER_NO, o.END_DATE,o.EMP_NO,e.EMP_NAME EMP_NAME,o.INIT_AMT,o.PAYMENT_STAT
    FROM t_preorder o , t_md_branch_emp e
    WHERE o.EMP_NO = e.EMP_NO
    <if test="status !=null and status!=''">
       and  o.PAYMENT_STAT = #{status,jdbcType=VARCHAR}
    </if>
    <if test="orderStartDate !=null">
        and o.END_DATE &gt;= #{orderStartDate,jdbcType=DATE}
    </if>
    <if test="orderEndDate !=null">
       and   o.END_DATE &lt;= #{orderEndDate,jdbcType=DATE}
    </if>
    ORDER BY ORDER_NO
  </select>

  <update id="updateOrderPayMentStatus" parameterType="String" >
    update t_preorder
    SET  PAYMENT_STAT = '20'
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
  
  <update id="updateOrderCurAmt" parameterType="com.nhry.data.order.domain.TPreOrder" >
    update t_preorder
    set CUR_AMT =  #{curAmt,jdbcType=DECIMAL}
    where ORDER_NO = #{orderNo,jdbcType=VARCHAR}
  </update>
</mapper>